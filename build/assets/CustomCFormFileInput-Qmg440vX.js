import{r as b,_ as F,R as x,c as g,b as j,P as l,j as i}from"./index-Cwsbtslf.js";import{u as w}from"./CustomCFormInput-R6ZhCQt0.js";import{a as C,b as k,C as N}from"./CFormInput--xOEIcm_.js";var p=b.forwardRef(function(s,a){var t,e=s.className,o=s.id,r=s.invalid,c=s.label,m=s.reverse,n=s.size,h=s.type,d=h===void 0?"checkbox":h,u=s.valid,f=F(s,["className","id","invalid","label","reverse","size","type","valid"]);return x.createElement("div",{className:g("form-check form-switch",(t={"form-check-reverse":m},t["form-switch-".concat(n)]=n,t["is-invalid"]=r,t["is-valid"]=u,t),e)},x.createElement("input",j({type:d,className:g("form-check-input",{"is-invalid":r,"is-valid":u}),id:o},f,{ref:a})),c&&x.createElement(C,j({customClassName:"form-check-label"},o&&{htmlFor:o}),c))});p.propTypes={className:l.string,id:l.string,invalid:l.bool,label:l.oneOfType([l.string,l.node]),reverse:l.bool,size:l.oneOf(["lg","xl"]),type:l.oneOf(["checkbox","radio"]),valid:l.bool};p.displayName="CFormSwitch";const U=({label:s,...a})=>{const[t,e,o]=w({...a,type:"checkbox"});return i.jsxs("div",{className:"mb-3",children:[i.jsx(p,{...t,...a,id:a.id||a.name,checked:t.value,onChange:r=>o.setValue(r.target.checked),invalid:e.touched&&!!e.error}),e.touched&&e.error&&i.jsx(k,{className:"d-block",children:e.error})]})},L=({label:s,initialImageUrl:a=null,onDelete:t=null,...e})=>{const[o,r,c]=w(e),[m,n]=b.useState(a),[h,d]=b.useState(!!a);b.useEffect(()=>{if(o.value instanceof File){const v=URL.createObjectURL(o.value);return n(v),d(!0),()=>URL.revokeObjectURL(v)}},[o.value]);const u=v=>{const y=v.currentTarget.files[0];y&&(c.setValue(y),d(!0))},f=()=>{c.setValue(null),n(null),d(!1),t&&t(c.setValue)};return i.jsxs("div",{className:"mb-3",children:[s&&i.jsx(C,{htmlFor:e.id||e.name,children:s}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[i.jsx(N,{type:"file",...e,id:e.id||e.name,onChange:u,invalid:r.touched&&!!r.error}),h&&m&&i.jsxs("div",{style:{position:"relative",display:"inline-block",width:"fit-content"},children:[i.jsx("img",{src:m,alt:"preview",style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ccc"}}),i.jsx("button",{type:"button",onClick:f,style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",cursor:"pointer",fontWeight:"bold",lineHeight:"18px"},children:"Ã—"})]})]}),r.touched&&r.error&&i.jsx(k,{className:"d-block mt-1",children:r.error})]})};export{L as C,U as a};
